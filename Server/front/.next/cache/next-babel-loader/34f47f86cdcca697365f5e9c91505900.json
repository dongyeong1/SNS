{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { HYDRATE } from 'next-redux-wrapper';\nimport produce from 'immer';\nimport { BranchesOutlined } from '@ant-design/icons';\nexport var initialState = {\n  loginLoading: false,\n  loginDone: false,\n  loginError: null,\n  logoutLoading: false,\n  logoutDone: false,\n  logoutError: null,\n  signupLoading: false,\n  signupDone: false,\n  signupError: null,\n  nicknameLoading: false,\n  nicknameDone: false,\n  nicknameError: null,\n  me: null,\n  signUpData: {},\n  loginData: {}\n};\nvar dummyUser = function dummyUser(data) {\n  return _objectSpread(_objectSpread({}, data), {}, {\n    nickname: 'zerodong',\n    id: 1,\n    Posts: [{\n      id: 1\n    }],\n    Followings: [],\n    Followers: []\n  });\n};\nexport var NICKNAME_REQUEST = 'NICKNAME_REQUEST';\nexport var NICKNAME_SUCCESS = 'NICKNAME_SUCCESS';\nexport var NICKNAME_FAILURE = 'NICKNAME_FAILURE';\nexport var SIGN_UP_REQUEST = 'SIGN_UP_REQUEST';\nexport var SIGN_UP_FAILURE = 'SIGN_UP_FAILURE';\nexport var SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS';\nexport var LOG_IN_REQUEST = 'LOG_IN_REQUEST'; // 액션의 이름\nexport var LOG_IN_SUCCESS = 'LOG_IN_SUCCESS'; // 액션의 이름\nexport var LOG_IN_FAILURE = 'LOG_IN_FAILURE'; // 액션의 이름\n\nexport var LOG_OUT_REQUEST = 'LOG_OUT_REQUEST';\nexport var LOG_OUT_FAILURE = 'LOG_OUT_FAILURE';\nexport var LOG_OUT_SUCCESS = 'LOG_OUT_SUCCESS';\nexport var ADD_POST_TO_ME = 'ADD_POST_TO_ME';\nexport var REMOVE_POST_TO_ME = 'REMOVE_POST_TO_ME';\nexport var nicknameRequestAction = function nicknameRequestAction(data) {\n  return {\n    type: NICKNAME_REQUEST,\n    data: data\n  };\n};\nexport var loginRequestAction = function loginRequestAction(data) {\n  return {\n    type: LOG_IN_REQUEST,\n    data: data\n  };\n};\nexport var logoutRequestAction = function logoutRequestAction() {\n  return {\n    type: LOG_OUT_REQUEST\n  };\n};\nexport var signupRequestAction = function signupRequestAction(data) {\n  return {\n    type: SIGN_UP_REQUEST,\n    data: data\n  };\n};\nexport var reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    switch (action.type) {\n      case HYDRATE:\n        console.log('HYDRATE', action);\n        return _objectSpread(_objectSpread({}, state), action.payload);\n      case LOG_IN_REQUEST:\n        draft.loginLoading = true, draft.loginError = null;\n        break;\n      case LOG_IN_SUCCESS:\n        draft.loginLoading = false, draft.loginDone = true, draft.me = dummyUser(action.data);\n        break;\n      case LOG_IN_FAILURE:\n        draft.loginLoading = false, draft.loginDone = false, draft.loginError = action.err;\n        break;\n      case LOG_OUT_REQUEST:\n        draft.logoutLoading = true;\n        draft.logoutDone = false;\n        break;\n      case LOG_OUT_SUCCESS:\n        draft.logoutLoading = false, draft.logoutDone = true, draft.me = null;\n        break;\n      case LOG_OUT_FAILURE:\n        draft.logoutDone = false, draft.logoutLoading = false, draft.logoutError = action.err;\n        break;\n      case SIGN_UP_REQUEST:\n        draft.signupLoading = true, draft.signupDone = false, draft.signupError = null;\n        break;\n      case SIGN_UP_SUCCESS:\n        draft.signupLoading = false, draft.signupDone = true;\n        break;\n      case SIGN_UP_FAILURE:\n        draft.signupError = action.err, draft.signupLoading = false, draft.signupDone = false;\n        break;\n      case NICKNAME_REQUEST:\n        draft.nicknameLoading = true, draft.nicknameDone = false, draft.nicknameError = null;\n        break;\n      case NICKNAME_SUCCESS:\n        draft.nicknameLoading = false;\n        draft.nicknameDone = true;\n        break;\n      case NICKNAME_FAILURE:\n        draft.nicknameError = action.err, draft.nicknameLoading = false, draft.nicknameDone = false;\n        break;\n      case ADD_POST_TO_ME:\n        console.log(action.data, 'sssss');\n        draft.me.Posts.unshift({\n          id: action.data\n        });\n        break;\n      // return{\n      //     ...state,\n      //     me:{\n      //         ...state.me,\n      //         Posts:[{id:action.data},...state.me.Posts],\n\n      //     }\n      // }\n      case REMOVE_POST_TO_ME:\n        draft.me.Posts = draft.me.Posts.filter(function (m) {\n          return m.id !== action.data;\n        });\n        break;\n      default:\n        return state;\n    }\n  });\n};\nexport default reducer;","map":{"version":3,"names":["HYDRATE","produce","BranchesOutlined","initialState","loginLoading","loginDone","loginError","logoutLoading","logoutDone","logoutError","signupLoading","signupDone","signupError","nicknameLoading","nicknameDone","nicknameError","me","signUpData","loginData","dummyUser","data","nickname","id","Posts","Followings","Followers","NICKNAME_REQUEST","NICKNAME_SUCCESS","NICKNAME_FAILURE","SIGN_UP_REQUEST","SIGN_UP_FAILURE","SIGN_UP_SUCCESS","LOG_IN_REQUEST","LOG_IN_SUCCESS","LOG_IN_FAILURE","LOG_OUT_REQUEST","LOG_OUT_FAILURE","LOG_OUT_SUCCESS","ADD_POST_TO_ME","REMOVE_POST_TO_ME","nicknameRequestAction","type","loginRequestAction","logoutRequestAction","signupRequestAction","reducer","state","action","draft","console","log","payload","err","unshift","filter","m"],"sources":["/Users/dong/DockerReact/pepare/front/reducers/user.js"],"sourcesContent":["import {HYDRATE} from 'next-redux-wrapper';\nimport produce from 'immer'\nimport { BranchesOutlined } from '@ant-design/icons';\n\n\n\n\nexport const initialState={\n    loginLoading:false,\n    loginDone:false,\n    loginError:null,\n\n    logoutLoading:false,\n    logoutDone:false,\n    logoutError:null,\n\n    signupLoading:false,\n    signupDone:false,\n    signupError:null,\n\n    nicknameLoading:false,\n    nicknameDone:false,\n    nicknameError:null,\n\n    me:null,\n    signUpData:{},\n    loginData:{}\n}\n\n\nconst dummyUser=(data)=>{\nreturn{\n    ...data,\n    nickname:'zerodong',\n    id:1,\n    Posts:[{id:1}],\n    Followings:[],\n    Followers:[]\n\n}\n}\n\nexport const NICKNAME_REQUEST = 'NICKNAME_REQUEST';\nexport const NICKNAME_SUCCESS='NICKNAME_SUCCESS'\nexport const NICKNAME_FAILURE = 'NICKNAME_FAILURE';\n\nexport const SIGN_UP_REQUEST = 'SIGN_UP_REQUEST';\nexport const SIGN_UP_FAILURE='SIGN_UP_FAILURE'\nexport const SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS';\n\nexport const LOG_IN_REQUEST = 'LOG_IN_REQUEST'; // 액션의 이름\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS'; // 액션의 이름\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE'; // 액션의 이름\n\nexport const LOG_OUT_REQUEST = 'LOG_OUT_REQUEST';\nexport const LOG_OUT_FAILURE='LOG_OUT_FAILURE'\nexport const LOG_OUT_SUCCESS='LOG_OUT_SUCCESS'\n\nexport const ADD_POST_TO_ME='ADD_POST_TO_ME'\nexport const REMOVE_POST_TO_ME='REMOVE_POST_TO_ME'\n\n\nexport const nicknameRequestAction=(data)=>{\n    return{\n        type:NICKNAME_REQUEST,\n        data\n    }\n}\n\nexport const loginRequestAction = (data) => {\n    return {\n      type: LOG_IN_REQUEST,\n      data,\n    }\n  };\n  export const logoutRequestAction =()=> {\n      return{\n        type: LOG_OUT_REQUEST,\n\n      }\n  };\n  export const signupRequestAction=(data)=>{\n      return{\n          type:SIGN_UP_REQUEST,\n          data\n      }\n  }\n\nexport const reducer = (state=initialState,action)=>{\n\n    return produce(state,(draft)=>{\n\n        switch(action.type){\n            case HYDRATE:\n                console.log('HYDRATE',action)\n                return{...state,...action.payload}\n            case LOG_IN_REQUEST:\n                   \n                draft.loginLoading=true,\n                draft.loginError=null;\n                break;\n                           \n            case LOG_IN_SUCCESS:\n                           draft.loginLoading=false,\n                           draft.loginDone=true,\n                           draft.me=dummyUser(action.data);\n                           break;\n                case LOG_IN_FAILURE:\n                       \n                            \n                    draft.loginLoading=false,\n                    draft.loginDone=false,\n                    draft.loginError=action.err;\n                    break;\n                        \n                \n                \n                case LOG_OUT_REQUEST:\n\n                            draft.logoutLoading=true;\n                            draft.logoutDone=false;\n                            break;\n                            \n                    case LOG_OUT_SUCCESS:\n                                draft.logoutLoading=false,\n                                draft.logoutDone=true,\n                                draft.me=null\n                                break;\n                        case LOG_OUT_FAILURE:\n                                    draft.logoutDone=false,\n                                    draft.logoutLoading=false,\n                                    draft.logoutError=action.err;\n                                    break;\n                            \n                case SIGN_UP_REQUEST:\n                        \n                        draft.signupLoading=true,\n                        draft.signupDone=false,\n                        draft.signupError=null;\n                        break;\n    \n                    \n                case SIGN_UP_SUCCESS:\n                    \n    \n                        draft.signupLoading=false,\n                        draft.signupDone=true;\n                        break;\n                        \n                    \n                case SIGN_UP_FAILURE:\n                        \n                        draft.signupError=action.err,\n                        draft.signupLoading=false,\n                        draft.signupDone=false;\n                        break;\n                \n    \n                    case NICKNAME_REQUEST:\n                           \n                            draft.nicknameLoading=true,\n                            draft.nicknameDone=false,\n                            draft.nicknameError=null;\n                            break;\n        \n                        \n                    case NICKNAME_SUCCESS:\n                        \n                            draft.nicknameLoading=false;\n                            draft.nicknameDone=true;\n                            break;\n                        \n                    case NICKNAME_FAILURE:\n                            draft.nicknameError=action.err,\n                            draft.nicknameLoading=false,\n                            draft.nicknameDone=false;\n                            break;\n                        \n                    case ADD_POST_TO_ME:\n                        console.log(action.data,'sssss')\n                        draft.me.Posts.unshift({id:action.data})\n                        break;\n                        // return{\n                        //     ...state,\n                        //     me:{\n                        //         ...state.me,\n                        //         Posts:[{id:action.data},...state.me.Posts],\n                                \n    \n                        //     }\n                        // }\n                        case REMOVE_POST_TO_ME:\n                            draft.me.Posts=draft.me.Posts.filter((m)=>m.id!==action.data)\n                           break; \n                           \n                        \n                           \n                        \n                        \n            default:\n                return state;\n        }\n    \n    })\n    \n    \n\n}\n\nexport default reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}